{"/home/travis/build/npmtest/node-npmtest-ladda/test.js":"/* istanbul instrument in package npmtest_ladda */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - init-after\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - init-after\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - init-after\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-ladda/lib.npmtest_ladda.js":"/* istanbul instrument in package npmtest_ladda */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_ladda = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_ladda = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-ladda/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-ladda && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_ladda */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_ladda\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // init-after\n    // run browser js-env code - init-after\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - init-after\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_ladda.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_ladda.rollup.js'] =\n            local.assetsDict['/assets.npmtest_ladda.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_ladda.__dirname + '/lib.npmtest_ladda.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-ladda/node_modules/ladda/dist/ladda.min.js":"/*!\n * Ladda 1.0.0 (2016-03-08, 09:31)\n * http://lab.hakim.se/ladda\n * MIT licensed\n *\n * Copyright (C) 2016 Hakim El Hattab, http://hakim.se\n */\n!function(a,b){\"object\"==typeof exports?module.exports=b(require(\"spin.js\")):\"function\"==typeof define&&define.amd?define([\"spin\"],b):a.Ladda=b(a.Spinner)}(this,function(a){\"use strict\";function b(a){if(\"undefined\"==typeof a)return void console.warn(\"Ladda button target must be defined.\");if(/ladda-button/i.test(a.className)||(a.className+=\" ladda-button\"),a.hasAttribute(\"data-style\")||a.setAttribute(\"data-style\",\"expand-right\"),!a.querySelector(\".ladda-label\")){var b=document.createElement(\"span\");b.className=\"ladda-label\",i(a,b)}var c,d=a.querySelector(\".ladda-spinner\");d||(d=document.createElement(\"span\"),d.className=\"ladda-spinner\"),a.appendChild(d);var e,f={start:function(){return c||(c=g(a)),a.setAttribute(\"disabled\",\"\"),a.setAttribute(\"data-loading\",\"\"),clearTimeout(e),c.spin(d),this.setProgress(0),this},startAfter:function(a){return clearTimeout(e),e=setTimeout(function(){f.start()},a),this},stop:function(){return a.removeAttribute(\"disabled\"),a.removeAttribute(\"data-loading\"),clearTimeout(e),c&&(e=setTimeout(function(){c.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(b){b=Math.max(Math.min(b,1),0);var c=a.querySelector(\".ladda-progress\");0===b&&c&&c.parentNode?c.parentNode.removeChild(c):(c||(c=document.createElement(\"div\"),c.className=\"ladda-progress\",a.appendChild(c)),c.style.width=(b||0)*a.offsetWidth+\"px\")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),a.setAttribute(\"disabled\",\"\"),this},isLoading:function(){return a.hasAttribute(\"data-loading\")},remove:function(){clearTimeout(e),a.removeAttribute(\"disabled\",\"\"),a.removeAttribute(\"data-loading\",\"\"),c&&(c.stop(),c=null);for(var b=0,d=j.length;d>b;b++)if(f===j[b]){j.splice(b,1);break}}};return j.push(f),f}function c(a,b){for(;a.parentNode&&a.tagName!==b;)a=a.parentNode;return b===a.tagName?a:void 0}function d(a){for(var b=[\"input\",\"textarea\",\"select\"],c=[],d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++)e[f].hasAttribute(\"required\")&&c.push(e[f]);return c}function e(a,e){e=e||{};var f=[];\"string\"==typeof a?f=h(document.querySelectorAll(a)):\"object\"==typeof a&&\"string\"==typeof a.nodeName&&(f=[a]);for(var g=0,i=f.length;i>g;g++)!function(){var a=f[g];if(\"function\"==typeof a.addEventListener){var h=b(a),i=-1;a.addEventListener(\"click\",function(b){var f=!0,g=c(a,\"FORM\");if(\"undefined\"!=typeof g)if(\"function\"==typeof g.checkValidity)f=g.checkValidity();else for(var j=d(g),k=0;k<j.length;k++)\"\"===j[k].value.replace(/^\\s+|\\s+$/g,\"\")&&(f=!1),\"checkbox\"!==j[k].type&&\"radio\"!==j[k].type||j[k].checked||(f=!1),\"email\"===j[k].type&&(f=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(j[k].value));f&&(h.startAfter(1),\"number\"==typeof e.timeout&&(clearTimeout(i),i=setTimeout(h.stop,e.timeout)),\"function\"==typeof e.callback&&e.callback.apply(null,[h]))},!1)}}()}function f(){for(var a=0,b=j.length;b>a;a++)j[a].stop()}function g(b){var c,d,e=b.offsetHeight;0===e&&(e=parseFloat(window.getComputedStyle(b).height)),e>32&&(e*=.8),b.hasAttribute(\"data-spinner-size\")&&(e=parseInt(b.getAttribute(\"data-spinner-size\"),10)),b.hasAttribute(\"data-spinner-color\")&&(c=b.getAttribute(\"data-spinner-color\")),b.hasAttribute(\"data-spinner-lines\")&&(d=parseInt(b.getAttribute(\"data-spinner-lines\"),10));var f=.2*e,g=.6*f,h=7>f?2:3;return new a({color:c||\"#fff\",lines:d||12,radius:f,length:g,width:h,zIndex:\"auto\",top:\"auto\",left:\"auto\",className:\"\"})}function h(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function i(a,b){var c=document.createRange();c.selectNodeContents(a),c.surroundContents(b),a.appendChild(b)}var j=[];return{bind:e,create:b,stopAll:f}});","/home/travis/build/npmtest/node-npmtest-ladda/node_modules/ladda/Gruntfile.js":"/* global module:false */\nmodule.exports = function(grunt) {\n\n\t// Project configuration\n\tgrunt.initConfig({\n\t\tpkg: grunt.file.readJSON('package.json'),\n\t\tmeta: {\n\t\t\tbanner:\n\t\t\t\t'/*!\\n' +\n\t\t\t\t' * Ladda <%= pkg.version %> (<%= grunt.template.today(\"yyyy-mm-dd, HH:MM\") %>)\\n' +\n\t\t\t\t' * http://lab.hakim.se/ladda\\n' +\n\t\t\t\t' * MIT licensed\\n' +\n\t\t\t\t' *\\n' +\n\t\t\t\t' * Copyright (C) 2016 Hakim El Hattab, http://hakim.se\\n' +\n\t\t\t\t' */'\n\t\t},\n\n\t\tuglify: {\n\t\t\tmain: {\n\t\t\t\toptions: {\n\t\t\t\t\tbanner: '<%= meta.banner %>\\n'\n\t\t\t\t},\n\t\t\t\tfiles: {\n\t\t\t\t\t'dist/ladda.min.js': 'js/ladda.js'\n\t\t\t\t}\n\t\t\t},\n\t\t\tlib: {\n\t\t\t\toptions: {\n\t\t\t\t\tpreserveComments: 'some'\n\t\t\t\t},\n\t\t\t\tfiles: {\n\t\t\t\t\t'dist/spin.min.js': 'js/spin.js',\n\t\t\t\t\t'dist/ladda.jquery.min.js': 'js/ladda.jquery.js'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsass: {\n\t\t\tmain: {\n\t\t\t\toptions: {\n\t\t\t\t\tstyle: 'compressed',\n\t\t\t\t\tsourcemap: 'none'\n\t\t\t\t},\n\t\t\t\tfiles: {\n\t\t\t\t\t'dist/ladda.min.css': [ 'css/ladda-themed.scss' ],\n\t\t\t\t\t'dist/ladda-themeless.min.css': [ 'css/ladda.scss' ]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tjshint: {\n\t\t\toptions: {\n\t\t\t\tcurly: false,\n\t\t\t\teqeqeq: true,\n\t\t\t\timmed: true,\n\t\t\t\tlatedef: true,\n\t\t\t\tnewcap: true,\n\t\t\t\tnoarg: true,\n\t\t\t\tsub: true,\n\t\t\t\tundef: true,\n\t\t\t\teqnull: true,\n\t\t\t\tbrowser: true,\n\t\t\t\texpr: true,\n\t\t\t\tloopfunc: true,\n\t\t\t\tglobals: {\n\t\t\t\t\thead: false,\n\t\t\t\t\tmodule: false,\n\t\t\t\t\tconsole: false,\n\t\t\t\t\tdefine: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tfiles: [ 'Gruntfile.js', 'js/ladda.js', 'js/ladda.jquery.js' ]\n\t\t},\n\n\t\tconnect: {\n\t\t\tserver: {\n\t\t\t\toptions: {\n\t\t\t\t\tport: 8000,\n\t\t\t\t\tbase: '.'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\twatch: {\n\t\t\tmain: {\n\t\t\t\tfiles: [ 'Gruntfile.js', 'js/ladda.js' ],\n\t\t\t\ttasks: 'js'\n\t\t\t},\n\t\t\ttheme: {\n\t\t\t\tfiles: [ 'css/ladda.scss' ],\n\t\t\t\ttasks: 'css'\n\t\t\t}\n\t\t}\n\n\t});\n\n\t// Dependencies\n\tgrunt.loadNpmTasks( 'grunt-contrib-jshint' );\n\tgrunt.loadNpmTasks( 'grunt-contrib-uglify' );\n\tgrunt.loadNpmTasks( 'grunt-contrib-watch' );\n\tgrunt.loadNpmTasks( 'grunt-contrib-sass' );\n\tgrunt.loadNpmTasks( 'grunt-contrib-connect' );\n\n\t// Default task\n\tgrunt.registerTask( 'default', [ 'js', 'css' ] );\n\n\t// Theme task\n\tgrunt.registerTask( 'js', [ 'jshint', 'uglify' ] );\n\tgrunt.registerTask( 'css', [ 'sass' ] );\n\n\t// Serve presentation locally\n\tgrunt.registerTask( 'serve', [ 'connect', 'watch' ] );\n\n};\n","/home/travis/build/npmtest/node-npmtest-ladda/node_modules/ladda/js/ladda.jquery.js":"/*!\n * Ladda for jQuery\n * http://lab.hakim.se/ladda\n * MIT licensed\n *\n * Copyright (C) 2015 Hakim El Hattab, http://hakim.se\n */\n\n(function( Ladda, $ ) {\n\tif ($ === undefined)\n\t\treturn console.error( 'jQuery required for Ladda.jQuery' );\n\n\tvar arr = [];\n\n\t$ = $.extend( $, {\n\t\tladda: function( arg ) {\n\t\t\tif( arg === 'stopAll' )\n\t\t\t\tLadda.stopAll();\n\t\t}\n\t});\n\n\t$.fn = $.extend( $.fn, {\n\t\tladda: function( arg ) {\n\t\t\tvar args = arr.slice.call( arguments, 1 );\n\n\t\t\tif( arg === 'bind' ) {\n\t\t\t\targs.unshift( $( this ).selector );\n\t\t\t\tLadda.bind.apply( Ladda, args );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$( this ).each( function() {\n\t\t\t\t\tvar $this = $( this ), ladda;\n\n\t\t\t\t\tif( arg === undefined )\n\t\t\t\t\t\t$this.data( 'ladda', Ladda.create( this ) );\n\t\t\t\t\telse {\n\t\t\t\t\t\tladda = $this.data( 'ladda' );\n\t\t\t\t\t\tladda[arg].apply( ladda, args );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t});\t\n}( this.Ladda, this.jQuery ));","/home/travis/build/npmtest/node-npmtest-ladda/node_modules/ladda/js/ladda.js":"/*!\n * Ladda\n * http://lab.hakim.se/ladda\n * MIT licensed\n *\n * Copyright (C) 2016 Hakim El Hattab, http://hakim.se\n */\n/* jshint node:true, browser:true */\n(function( root, factory ) {\n\n\t// CommonJS\n\tif( typeof exports === 'object' )  {\n\t\tmodule.exports = factory(require('spin.js'));\n\t}\n\t// AMD module\n\telse if( typeof define === 'function' && define.amd ) {\n\t\tdefine( [ 'spin' ], factory );\n\t}\n\t// Browser global\n\telse {\n\t\troot.Ladda = factory( root.Spinner );\n\t}\n\n}\n(this, function( Spinner ) {\n\t'use strict';\n\n\t// All currently instantiated instances of Ladda\n\tvar ALL_INSTANCES = [];\n\n\t/**\n\t * Creates a new instance of Ladda which wraps the\n\t * target button element.\n\t *\n\t * @return An API object that can be used to control\n\t * the loading animation state.\n\t */\n\tfunction create( button ) {\n\n\t\tif( typeof button === 'undefined' ) {\n\t\t\tconsole.warn( \"Ladda button target must be defined.\" );\n\t\t\treturn;\n\t\t}\n\n\t\t// The button must have the class \"ladda-button\"\n\t\tif( !/ladda-button/i.test( button.className ) ) {\n\t\t\tbutton.className += ' ladda-button';\n\t\t}\n\n\t\t// Style is required, default to \"expand-right\"\n\t\tif( !button.hasAttribute( 'data-style' ) ) {\n\t\t\tbutton.setAttribute( 'data-style', 'expand-right' );\n\t\t}\n\n\t\t// The text contents must be wrapped in a ladda-label\n\t\t// element, create one if it doesn't already exist\n\t\tif( !button.querySelector( '.ladda-label' ) ) {\n\t\t\tvar laddaLabel = document.createElement( 'span' );\n\t\t\tladdaLabel.className = 'ladda-label';\n\t\t\twrapContent( button, laddaLabel );\n\t\t}\n\n\t\t// The spinner component\n\t\tvar spinner,\n\t\t\tspinnerWrapper = button.querySelector( '.ladda-spinner' );\n\n\t\t// Wrapper element for the spinner\n\t\tif( !spinnerWrapper ) {\n\t\t\tspinnerWrapper = document.createElement( 'span' );\n\t\t\tspinnerWrapper.className = 'ladda-spinner';\n\t\t}\n\n\t\tbutton.appendChild( spinnerWrapper );\n\n\t\t// Timer used to delay starting/stopping\n\t\tvar timer;\n\n\t\tvar instance = {\n\n\t\t\t/**\n\t\t\t * Enter the loading state.\n\t\t\t */\n\t\t\tstart: function() {\n\n\t\t\t\t// Create the spinner if it doesn't already exist\n\t\t\t\tif( !spinner ) spinner = createSpinner( button );\n\n\t\t\t\tbutton.setAttribute( 'disabled', '' );\n\t\t\t\tbutton.setAttribute( 'data-loading', '' );\n\n\t\t\t\tclearTimeout( timer );\n\t\t\t\tspinner.spin( spinnerWrapper );\n\n\t\t\t\tthis.setProgress( 0 );\n\n\t\t\t\treturn this; // chain\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Enter the loading state, after a delay.\n\t\t\t */\n\t\t\tstartAfter: function( delay ) {\n\n\t\t\t\tclearTimeout( timer );\n\t\t\t\ttimer = setTimeout( function() { instance.start(); }, delay );\n\n\t\t\t\treturn this; // chain\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Exit the loading state.\n\t\t\t */\n\t\t\tstop: function() {\n\n\t\t\t\tbutton.removeAttribute( 'disabled' );\n\t\t\t\tbutton.removeAttribute( 'data-loading' );\n\n\t\t\t\t// Kill the animation after a delay to make sure it\n\t\t\t\t// runs for the duration of the button transition\n\t\t\t\tclearTimeout( timer );\n\n\t\t\t\tif( spinner ) {\n\t\t\t\t\ttimer = setTimeout( function() { spinner.stop(); }, 1000 );\n\t\t\t\t}\n\n\t\t\t\treturn this; // chain\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Toggle the loading state on/off.\n\t\t\t */\n\t\t\ttoggle: function() {\n\n\t\t\t\tif( this.isLoading() ) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.start();\n\t\t\t\t}\n\n\t\t\t\treturn this; // chain\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the width of the visual progress bar inside of\n\t\t\t * this Ladda button\n\t\t\t *\n\t\t\t * @param {Number} progress in the range of 0-1\n\t\t\t */\n\t\t\tsetProgress: function( progress ) {\n\n\t\t\t\t// Cap it\n\t\t\t\tprogress = Math.max( Math.min( progress, 1 ), 0 );\n\n\t\t\t\tvar progressElement = button.querySelector( '.ladda-progress' );\n\n\t\t\t\t// Remove the progress bar if we're at 0 progress\n\t\t\t\tif( progress === 0 && progressElement && progressElement.parentNode ) {\n\t\t\t\t\tprogressElement.parentNode.removeChild( progressElement );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif( !progressElement ) {\n\t\t\t\t\t\tprogressElement = document.createElement( 'div' );\n\t\t\t\t\t\tprogressElement.className = 'ladda-progress';\n\t\t\t\t\t\tbutton.appendChild( progressElement );\n\t\t\t\t\t}\n\n\t\t\t\t\tprogressElement.style.width = ( ( progress || 0 ) * button.offsetWidth ) + 'px';\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tenable: function() {\n\n\t\t\t\tthis.stop();\n\n\t\t\t\treturn this; // chain\n\n\t\t\t},\n\n\t\t\tdisable: function () {\n\n\t\t\t\tthis.stop();\n\t\t\t\tbutton.setAttribute( 'disabled', '' );\n\n\t\t\t\treturn this; // chain\n\n\t\t\t},\n\n\t\t\tisLoading: function() {\n\n\t\t\t\treturn button.hasAttribute( 'data-loading' );\n\n\t\t\t},\n\n\t\t\tremove: function() {\n\n\t\t\t\tclearTimeout( timer );\n\n\t\t\t\tbutton.removeAttribute( 'disabled', '' );\n\t\t\t\tbutton.removeAttribute( 'data-loading', '' );\n\n\t\t\t\tif( spinner ) {\n\t\t\t\t\tspinner.stop();\n\t\t\t\t\tspinner = null;\n\t\t\t\t}\n\n\t\t\t\tfor( var i = 0, len = ALL_INSTANCES.length; i < len; i++ ) {\n\t\t\t\t\tif( instance === ALL_INSTANCES[i] ) {\n\t\t\t\t\t\tALL_INSTANCES.splice( i, 1 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tALL_INSTANCES.push( instance );\n\n\t\treturn instance;\n\n\t}\n\n\t/**\n\t* Get the first ancestor node from an element, having a\n\t* certain type.\n\t*\n\t* @param elem An HTML element\n\t* @param type an HTML tag type (uppercased)\n\t*\n\t* @return An HTML element\n\t*/\n\tfunction getAncestorOfTagType( elem, type ) {\n\n\t\twhile ( elem.parentNode && elem.tagName !== type ) {\n\t\t\telem = elem.parentNode;\n\t\t}\n\n\t\treturn ( type === elem.tagName ) ? elem : undefined;\n\n\t}\n\n\t/**\n\t * Returns a list of all inputs in the given form that\n\t * have their `required` attribute set.\n\t *\n\t * @param form The from HTML element to look in\n\t *\n\t * @return A list of elements\n\t */\n\tfunction getRequiredFields( form ) {\n\n\t\tvar requirables = [ 'input', 'textarea', 'select' ];\n\t\tvar inputs = [];\n\n\t\tfor( var i = 0; i < requirables.length; i++ ) {\n\t\t\tvar candidates = form.getElementsByTagName( requirables[i] );\n\t\t\tfor( var j = 0; j < candidates.length; j++ ) {\n\t\t\t\tif ( candidates[j].hasAttribute( 'required' ) ) {\n\t\t\t\t\tinputs.push( candidates[j] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn inputs;\n\n\t}\n\n\n\t/**\n\t * Binds the target buttons to automatically enter the\n\t * loading state when clicked.\n\t *\n\t * @param target Either an HTML element or a CSS selector.\n\t * @param options\n\t *          - timeout Number of milliseconds to wait before\n\t *            automatically cancelling the animation.\n\t */\n\tfunction bind( target, options ) {\n\n\t\toptions = options || {};\n\n\t\tvar targets = [];\n\n\t\tif( typeof target === 'string' ) {\n\t\t\ttargets = toArray( document.querySelectorAll( target ) );\n\t\t}\n\t\telse if( typeof target === 'object' && typeof target.nodeName === 'string' ) {\n\t\t\ttargets = [ target ];\n\t\t}\n\n\t\tfor( var i = 0, len = targets.length; i < len; i++ ) {\n\n\t\t\t(function() {\n\t\t\t\tvar element = targets[i];\n\n\t\t\t\t// Make sure we're working with a DOM element\n\t\t\t\tif( typeof element.addEventListener === 'function' ) {\n\t\t\t\t\tvar instance = create( element );\n\t\t\t\t\tvar timeout = -1;\n\n\t\t\t\t\telement.addEventListener( 'click', function( event ) {\n\n\t\t\t\t\t\t// If the button belongs to a form, make sure all the\n\t\t\t\t\t\t// fields in that form are filled out\n\t\t\t\t\t\tvar valid = true;\n\t\t\t\t\t\tvar form = getAncestorOfTagType( element, 'FORM' );\n\n\t\t\t\t\t\tif( typeof form !== 'undefined' ) {\n\t\t\t\t\t\t\t// Modern form validation\n\t\t\t\t\t\t\tif( typeof form.checkValidity === 'function' ) {\n\t\t\t\t\t\t\t\tvalid = form.checkValidity();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Fallback to manual validation for old browsers\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar requireds = getRequiredFields( form );\n\t\t\t\t\t\t\t\tfor( var i = 0; i < requireds.length; i++ ) {\n\n\t\t\t\t\t\t\t\t\tif( requireds[i].value.replace( /^\\s+|\\s+$/g, '' ) === '' ) {\n\t\t\t\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Radiobuttons and Checkboxes need to be checked for the \"checked\" attribute\n\t\t\t\t\t\t\t\t\tif( (requireds[i].type === 'checkbox' || requireds[i].type === 'radio' ) && !requireds[i].checked ) {\n\t\t\t\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Email field validation\n\t\t\t\t\t\t\t\t\tif( requireds[i].type === 'email' ) {\n\t\t\t\t\t\t\t\t\t\tvalid = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test( requireds[i].value );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( valid ) {\n\t\t\t\t\t\t\t// This is asynchronous to avoid an issue where setting\n\t\t\t\t\t\t\t// the disabled attribute on the button prevents forms\n\t\t\t\t\t\t\t// from submitting\n\t\t\t\t\t\t\tinstance.startAfter( 1 );\n\n\t\t\t\t\t\t\t// Set a loading timeout if one is specified\n\t\t\t\t\t\t\tif( typeof options.timeout === 'number' ) {\n\t\t\t\t\t\t\t\tclearTimeout( timeout );\n\t\t\t\t\t\t\t\ttimeout = setTimeout( instance.stop, options.timeout );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Invoke callbacks\n\t\t\t\t\t\t\tif( typeof options.callback === 'function' ) {\n\t\t\t\t\t\t\t\toptions.callback.apply( null, [ instance ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, false );\n\t\t\t\t}\n\t\t\t})();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Stops ALL current loading animations.\n\t */\n\tfunction stopAll() {\n\n\t\tfor( var i = 0, len = ALL_INSTANCES.length; i < len; i++ ) {\n\t\t\tALL_INSTANCES[i].stop();\n\t\t}\n\n\t}\n\n\tfunction createSpinner( button ) {\n\n\t\tvar height = button.offsetHeight,\n\t\t\tspinnerColor,\n\t\t\tspinnerLines;\n\n\t\tif( height === 0 ) {\n\t\t\t// We may have an element that is not visible so\n\t\t\t// we attempt to get the height in a different way\n\t\t\theight = parseFloat( window.getComputedStyle( button ).height );\n\t\t}\n\n\t\t// If the button is tall we can afford some padding\n\t\tif( height > 32 ) {\n\t\t\theight *= 0.8;\n\t\t}\n\n\t\t// Prefer an explicit height if one is defined\n\t\tif( button.hasAttribute( 'data-spinner-size' ) ) {\n\t\t\theight = parseInt( button.getAttribute( 'data-spinner-size' ), 10 );\n\t\t}\n\n\t\t// Allow buttons to specify the color of the spinner element\n\t\tif( button.hasAttribute( 'data-spinner-color' ) ) {\n\t\t\tspinnerColor = button.getAttribute( 'data-spinner-color' );\n\t\t}\n\n\t\t// Allow buttons to specify the number of lines of the spinner\n\t\tif( button.hasAttribute( 'data-spinner-lines' ) ) {\n\t\t\tspinnerLines = parseInt( button.getAttribute( 'data-spinner-lines' ), 10 );\n\t\t}\n\n\t\tvar radius = height * 0.2,\n\t\t\tlength = radius * 0.6,\n\t\t\twidth = radius < 7 ? 2 : 3;\n\n\t\treturn new Spinner( {\n\t\t\tcolor: spinnerColor || '#fff',\n\t\t\tlines: spinnerLines || 12,\n\t\t\tradius: radius,\n\t\t\tlength: length,\n\t\t\twidth: width,\n\t\t\tzIndex: 'auto',\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tclassName: ''\n\t\t} );\n\n\t}\n\n\tfunction toArray( nodes ) {\n\n\t\tvar a = [];\n\n\t\tfor ( var i = 0; i < nodes.length; i++ ) {\n\t\t\ta.push( nodes[ i ] );\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tfunction wrapContent( node, wrapper ) {\n\n\t\tvar r = document.createRange();\n\t\tr.selectNodeContents( node );\n\t\tr.surroundContents( wrapper );\n\t\tnode.appendChild( wrapper );\n\n\t}\n\n\t// Public API\n\treturn {\n\n\t\tbind: bind,\n\t\tcreate: create,\n\t\tstopAll: stopAll\n\n\t};\n\n}));\n","/home/travis/build/npmtest/node-npmtest-ladda/node_modules/ladda/js/spin.js":"/**\n * Copyright (c) 2011-2014 Felix Gnass\n * Licensed under the MIT license\n */\n(function(root, factory) {\n\n  // CommonJS\n  if (typeof exports == 'object') {\n    module.exports = factory();\n  }\n  // AMD module\n  else if (typeof define == 'function' && define.amd) {\n    define(factory);\n  }\n  // Browser global\n  else {\n    root.Spinner = factory();\n  }\n\n}\n(this, function() {\n  \"use strict\";\n\n  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */\n    , animations = {} /* Animation rules keyed by their name */\n    , useCssAnimations /* Whether to use CSS animations or setTimeout */\n\n  /**\n   * Utility function to create elements. If no tag name is given,\n   * a DIV is created. Optionally properties can be passed.\n   */\n  function createEl(tag, prop) {\n    var el = document.createElement(tag || 'div')\n      , n\n\n    for(n in prop) el[n] = prop[n]\n    return el\n  }\n\n  /**\n   * Appends children and returns the parent.\n   */\n  function ins(parent /* child1, child2, ...*/) {\n    for (var i=1, n=arguments.length; i<n; i++)\n      parent.appendChild(arguments[i])\n\n    return parent\n  }\n\n  /**\n   * Insert a new stylesheet to hold the @keyframe or VML rules.\n   */\n  var sheet = (function() {\n    var el = createEl('style', {type : 'text/css'})\n    ins(document.getElementsByTagName('head')[0], el)\n    return el.sheet || el.styleSheet\n  }())\n\n  /**\n   * Creates an opacity keyframe animation rule and returns its name.\n   * Since most mobile Webkits have timing issues with animation-delay,\n   * we create separate rules for each line/segment.\n   */\n  function addAnimation(alpha, trail, i, lines) {\n    var name = ['opacity', trail, ~~(alpha*100), i, lines].join('-')\n      , start = 0.01 + i/lines * 100\n      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)\n      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()\n      , pre = prefix && '-' + prefix + '-' || ''\n\n    if (!animations[name]) {\n      sheet.insertRule(\n        '@' + pre + 'keyframes ' + name + '{' +\n        '0%{opacity:' + z + '}' +\n        start + '%{opacity:' + alpha + '}' +\n        (start+0.01) + '%{opacity:1}' +\n        (start+trail) % 100 + '%{opacity:' + alpha + '}' +\n        '100%{opacity:' + z + '}' +\n        '}', sheet.cssRules.length)\n\n      animations[name] = 1\n    }\n\n    return name\n  }\n\n  /**\n   * Tries various vendor prefixes and returns the first supported property.\n   */\n  function vendor(el, prop) {\n    var s = el.style\n      , pp\n      , i\n\n    prop = prop.charAt(0).toUpperCase() + prop.slice(1)\n    for(i=0; i<prefixes.length; i++) {\n      pp = prefixes[i]+prop\n      if(s[pp] !== undefined) return pp\n    }\n    if(s[prop] !== undefined) return prop\n  }\n\n  /**\n   * Sets multiple style properties at once.\n   */\n  function css(el, prop) {\n    for (var n in prop)\n      el.style[vendor(el, n)||n] = prop[n]\n\n    return el\n  }\n\n  /**\n   * Fills in default values.\n   */\n  function merge(obj) {\n    for (var i=1; i < arguments.length; i++) {\n      var def = arguments[i]\n      for (var n in def)\n        if (obj[n] === undefined) obj[n] = def[n]\n    }\n    return obj\n  }\n\n  /**\n   * Returns the absolute page-offset of the given element.\n   */\n  function pos(el) {\n    var o = { x:el.offsetLeft, y:el.offsetTop }\n    while((el = el.offsetParent))\n      o.x+=el.offsetLeft, o.y+=el.offsetTop\n\n    return o\n  }\n\n  /**\n   * Returns the line color from the given string or array.\n   */\n  function getColor(color, idx) {\n    return typeof color == 'string' ? color : color[idx % color.length]\n  }\n\n  // Built-in defaults\n\n  var defaults = {\n    lines: 12,            // The number of lines to draw\n    length: 7,            // The length of each line\n    width: 5,             // The line thickness\n    radius: 10,           // The radius of the inner circle\n    rotate: 0,            // Rotation offset\n    corners: 1,           // Roundness (0..1)\n    color: '#000',        // #rgb or #rrggbb\n    direction: 1,         // 1: clockwise, -1: counterclockwise\n    speed: 1,             // Rounds per second\n    trail: 100,           // Afterglow percentage\n    opacity: 1/4,         // Opacity of the lines\n    fps: 20,              // Frames per second when using setTimeout()\n    zIndex: 2e9,          // Use a high z-index by default\n    className: 'spinner', // CSS class to assign to the element\n    top: '50%',           // center vertically\n    left: '50%',          // center horizontally\n    position: 'absolute'  // element position\n  }\n\n  /** The constructor */\n  function Spinner(o) {\n    this.opts = merge(o || {}, Spinner.defaults, defaults)\n  }\n\n  // Global defaults that override the built-ins:\n  Spinner.defaults = {}\n\n  merge(Spinner.prototype, {\n\n    /**\n     * Adds the spinner to the given target element. If this instance is already\n     * spinning, it is automatically removed from its previous target b calling\n     * stop() internally.\n     */\n    spin: function(target) {\n      this.stop()\n\n      var self = this\n        , o = self.opts\n        , el = self.el = css(createEl(0, {className: o.className}), {position: o.position, width: 0, zIndex: o.zIndex})\n        , mid = o.radius+o.length+o.width\n\n      css(el, {\n        left: o.left,\n        top: o.top\n      })\n        \n      if (target) {\n        target.insertBefore(el, target.firstChild||null)\n      }\n\n      el.setAttribute('role', 'progressbar')\n      self.lines(el, self.opts)\n\n      if (!useCssAnimations) {\n        // No CSS animation support, use setTimeout() instead\n        var i = 0\n          , start = (o.lines - 1) * (1 - o.direction) / 2\n          , alpha\n          , fps = o.fps\n          , f = fps/o.speed\n          , ostep = (1-o.opacity) / (f*o.trail / 100)\n          , astep = f/o.lines\n\n        ;(function anim() {\n          i++;\n          for (var j = 0; j < o.lines; j++) {\n            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)\n\n            self.opacity(el, j * o.direction + start, alpha, o)\n          }\n          self.timeout = self.el && setTimeout(anim, ~~(1000/fps))\n        })()\n      }\n      return self\n    },\n\n    /**\n     * Stops and removes the Spinner.\n     */\n    stop: function() {\n      var el = this.el\n      if (el) {\n        clearTimeout(this.timeout)\n        if (el.parentNode) el.parentNode.removeChild(el)\n        this.el = undefined\n      }\n      return this\n    },\n\n    /**\n     * Internal method that draws the individual lines. Will be overwritten\n     * in VML fallback mode below.\n     */\n    lines: function(el, o) {\n      var i = 0\n        , start = (o.lines - 1) * (1 - o.direction) / 2\n        , seg\n\n      function fill(color, shadow) {\n        return css(createEl(), {\n          position: 'absolute',\n          width: (o.length+o.width) + 'px',\n          height: o.width + 'px',\n          background: color,\n          boxShadow: shadow,\n          transformOrigin: 'left',\n          transform: 'rotate(' + ~~(360/o.lines*i+o.rotate) + 'deg) translate(' + o.radius+'px' +',0)',\n          borderRadius: (o.corners * o.width>>1) + 'px'\n        })\n      }\n\n      for (; i < o.lines; i++) {\n        seg = css(createEl(), {\n          position: 'absolute',\n          top: 1+~(o.width/2) + 'px',\n          transform: o.hwaccel ? 'translate3d(0,0,0)' : '',\n          opacity: o.opacity,\n          animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1/o.speed + 's linear infinite'\n        })\n\n        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px ' + '#000'), {top: 2+'px'}))\n        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))\n      }\n      return el\n    },\n\n    /**\n     * Internal method that adjusts the opacity of a single line.\n     * Will be overwritten in VML fallback mode below.\n     */\n    opacity: function(el, i, val) {\n      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val\n    }\n\n  })\n\n\n  function initVML() {\n\n    /* Utility function to create a VML tag */\n    function vml(tag, attr) {\n      return createEl('<' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">', attr)\n    }\n\n    // No CSS transforms but VML support, add a CSS rule for VML elements:\n    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')\n\n    Spinner.prototype.lines = function(el, o) {\n      var r = o.length+o.width\n        , s = 2*r\n\n      function grp() {\n        return css(\n          vml('group', {\n            coordsize: s + ' ' + s,\n            coordorigin: -r + ' ' + -r\n          }),\n          { width: s, height: s }\n        )\n      }\n\n      var margin = -(o.width+o.length)*2 + 'px'\n        , g = css(grp(), {position: 'absolute', top: margin, left: margin})\n        , i\n\n      function seg(i, dx, filter) {\n        ins(g,\n          ins(css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx}),\n            ins(css(vml('roundrect', {arcsize: o.corners}), {\n                width: r,\n                height: o.width,\n                left: o.radius,\n                top: -o.width>>1,\n                filter: filter\n              }),\n              vml('fill', {color: getColor(o.color, i), opacity: o.opacity}),\n              vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change\n            )\n          )\n        )\n      }\n\n      if (o.shadow)\n        for (i = 1; i <= o.lines; i++)\n          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')\n\n      for (i = 1; i <= o.lines; i++) seg(i)\n      return ins(el, g)\n    }\n\n    Spinner.prototype.opacity = function(el, i, val, o) {\n      var c = el.firstChild\n      o = o.shadow && o.lines || 0\n      if (c && i+o < c.childNodes.length) {\n        c = c.childNodes[i+o]; c = c && c.firstChild; c = c && c.firstChild\n        if (c) c.opacity = val\n      }\n    }\n  }\n\n  var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})\n\n  if (!vendor(probe, 'transform') && probe.adj) initVML()\n  else useCssAnimations = vendor(probe, 'animation')\n\n  return Spinner\n\n}));\n"}